create database SalesMaster 

use SalesMaster 

--drop table VendorAccountDetails

create table VendorDetails(venderId varchar(100) primary key,vName varchar(1000),vCompName varchar(1000),vAddress varchar(1000),vCity varchar(100), vState varchar(100),vZip varchar(100),vCountry varchar(50),vEmail varchar(250), vWebAddress varchar(50),vPhone varchar(15),vMobile varchar(15),vFax varchar(15),vDesc varchar(500))

create table VendorAccountDetails (id varchar(100),venderId varchar(100) foreign key references VendorDetails(venderId),vOpeningBalance varchar(100), vCurrentBalance varchar(100))

create table CustomerDetails(custId varchar(100) primary key,CustName varchar(1000),CustCompName varchar(1000),CustAddress varchar(1000),CustCity varchar(100), CustState varchar(100),CustZip varchar(100),CustCountry varchar(50),CustEmail varchar(250), CustWebAddress varchar(50),CustPhone varchar(15),CustMobile varchar(15),CustFax varchar(15),CustDesc varchar(500))

create table CustomerAccountDetails (id varchar(100),CustId varchar(100) foreign key references CustomerDetails(custId),CustOpeningBalance varchar(100), CustCurrentBalance varchar(100))

--drop table ItemUnitList
create table ItemGroup (groupID varchar(10) primary key,groupName varchar(1000),GroupDesc varchar(1000))
create table ItemUnitList(UnitId varchar(10) primary key,unitName varchar(1000),unitDesc varchar(1000))

create table ItemDetails(ItemId varchar(100) primary key,ItemName varchar(1000),ItemCompName varchar(1000),ItemDesc varchar(500), groupid varchar(10) foreign key references ItemGroup(groupId),Unitid varchar(10) foreign key references ItemUnitList(UnitId))

create table ItemPriceDetail(ItemId varchar(100) foreign  key references ItemDetails(ItemId),purChasePrice varchar(100),SalesPrice varchar(100),MrpPrice varchar(100),Margin varchar(100))
create table ItemQuantityDetail(ItemId varchar(100) foreign  key references ItemDetails(ItemId), OpeningQuantity varchar(100),CurrentQuantity varchar(100))

create table VendorOrderDetails (Orderid int identity primary key,venderId varchar(100) foreign key references VendorDetails(venderId),OrderDate datetime, TotalPrice decimal)
create table VendorOrderDesc (id int identity primary key,Orderid int   foreign key references VendorOrderDetails(Orderid),ItemId varchar(100) foreign  key references ItemDetails(ItemId), Price decimal,Quantity int,TotalPrice decimal)
create table CustomerOrderDelivery(Deliveryid int identity primary key,Orderid int foreign key references VendorOrderDetails(Orderid),status bit, DeliveryDate datetime)
create table CustomerOrderInvoice(InvoiceId int identity primary key,Deliveryid int foreign key references CustomerOrderDelivery(Deliveryid),Orderid int foreign key references VendorOrderDetails(Orderid), DeliveryDate datetime)
create table VendorPayment(PaymentId int identity primary key,InvoiceId int foreign key references CustomerOrderInvoice(InvoiceId),TotalAmount decimal,PayAmount decimal,ArrearAmount decimal,PaymentMode varchar(200), PaymentDate datetime)

create table ChequePement(Chequeid int identity primary key,PaymentId  int foreign key references VendorPayment(PaymentId ),ChequeDate datetime,BankName varchar(200),ChequeNo varchar(200))
create table WithoutRefrencePament(id int identity primary key,venderId varchar(100) foreign key references VendorDetails(venderId),TotalAmount decimal,PayAmount decimal,ArrearAmount decimal, PaymentDate datetime)

-- Connection string Data Source=ASHISH-PC;Initial Catalog=SalesMaster;Persist Security Info=True;User ID=sa

